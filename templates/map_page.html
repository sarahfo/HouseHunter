{% extends 'base.html' %}
{% block content %}


<div class="container">
    <div class="row">
        <div class="col-md-9">
			<div id="map" style="width:100%; height:500px"></div>


AWESOME Map Will go Here.
YOUR LAT LON:
{{ setView.lat }}
{{ setView.lon }}

<p> These are your homes!!</p>
{% for listing in listings %}
	{{listing.address}}
	{{listing.city}}
	{{listing.list_price}}
{% endfor %}

<script>
//MAKE MAP APPEAR
console.log({{setView.lat}})
L.mapbox.accessToken = 'pk.eyJ1Ijoic2FyYWhmbyIsImEiOiJaQmdHLWZJIn0.eEg4zenYs0-qcPsMBZ9i1g';
var map = L.mapbox.map('map').setView([{{setView.lat}},{{setView.lon}}], 14);
// var map = L.mapbox.map('map').setView([{{setView.lon}},{{setView.lat}}], 12);
L.control.layers({
	'Mapbox Streets': L.mapbox.tileLayer('mapbox.streets').addTo(map),
});
// console.log(setView)
// var myLayer = L.mapbox.featureLayer().addTo(map);
// var features = [];


</script>
</div>


	<div class="col-md-3">
		<form action="/make_yelp_parameters" method="GET" id="Yelp_Params">
			  <h5> I want to live within walking distance of: </h5>
				<label> <input type="checkbox" name="category_filter" value="grocery"> Grocery Stores </label>
				<br>
				<label><input type="checkbox" name="category_filter" value="gyms"> Gym </label>
				<br>
				<label><input type="checkbox" name="category_filter" value="restaurants"> Restaurants </label>
				<br>
				<label><input type="checkbox" name="category_filter" value="divebars"> Dive Bars </label>
				<br>
				<label><input type="checkbox" name="category_filter" value="gaybars"> Gay Bars </label>
				<br>
				<label><input type="checkbox" name="category_filter" value="meditationcenters"> Meditation Centers </label>
				<br>
				<label><input type="checkbox" name="category_filter" value="yoga"> Yoga </label>
				<br>
				<label><input type="checkbox" name="category_filter" value="rock_climbing"> Rock Climbing </label>
				<br>
				<input type="submit" value="Display">
			</form>
		</div>
	</div>
</div>


{% endblock %}